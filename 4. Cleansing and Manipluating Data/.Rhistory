knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
View(df)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# 1 Download “top100retailers2015.csv” and read the csv file into R.
```{r}
df <- read.csv("top100retailers2015.csv")
```
# 2 Get its structure and summary statistics.
```{r}
str(df)
summary(df)
```
# 3 Use regular expressions and forward pipe operators (magrittr::%>%) to remove special characters (e.g. $ % ,) from the following columns, then convert those columns into numeric data [use as.numeric(as.character())]
```{r}
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# 4 Create “City” and “State” columns from “Headquarter” [use regexpr() and substr(), or tidyr::separate()]
```{r}
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# 5 Show summary statistics of the new dataset and remove variable X
```{r}
summary(df)
df <- subset(df, select = -X)
```
# 6 Sort column RetailSales2014 in descending order and show the head
```{r}
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
```
# 7 Save the cleansed dataset as top100retailers_clean.csv
```{r}
write.csv(df, file = "top100retailers_clean.csv")
```
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
View(df)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
# Chunk 2
# Clean the environment
rm(list = ls())
# Chunk 3
# Load magrittr package
library(magrittr)
# The data give the speed of cars and the distances taken to stop.
# Note that the data were recorded in the 1920s.
speed <- cars$speed
print(speed)
# Chunk 4
# Find the max speed
speed %>% max
# Chunk 5
# List unique speed values
speed %>% unique
# Chunk 6
# List unique speed values and sort them by descending order
speed %>% unique %>% sort(decreasing = TRUE)
# Chunk 7
# List top 5 speed values and sort them by descending order
speed %>% unique %>% sort(decreasing = TRUE) %>% head(5)
# Chunk 8
# Use dot place-holder
"Ceci n'est pas une pipe" %>% gsub("une", "un", .)
# Chunk 9
sample(1:10) %>% paste0(LETTERS[.])
# Chunk 10
sample(1:10) %>% paste0(LETTERS[.], .)
# Chunk 11
patient <- data.frame(id = c("A01","A02","A03"),
first.name = c("Mike","Emily","Hannah"),
last.name = c("Smith","Johson", "Williams"),
age = c(26,20,24),
mass = c(150, 120, 110),
height = c(70,68,67))
print(patient)
# Chunk 12
# Copy the original dataset
patient2 <- patient
# Add new variable full.name
patient2$full.name <- paste(patient2$first.name,
patient2$last.name,
sep = " ")
# Add new variable bmi
patient2$bmi <- 703*patient2$mass/(patient2$height^2)
patient2 %>% print
# Chunk 13
# Use transform()
patient3 <- transform(patient,
full.name = paste(first.name,last.name,sep = " "),
bmi = 703*mass/(height^2))
patient3 %>% print
# Chunk 14
## Use dplyr::mutate() ##
patient4 <- dplyr::mutate(patient,
full.name = paste(first.name,last.name,sep = " "),
bmi = 703*mass/(height^2))
patient4 %>% print
# Chunk 15
# Recode Variables
patient4$bmi.category[patient4$bmi>=16 & patient4$bmi<18.5] <- "Underweight"
patient4$bmi.category[patient4$bmi>=18.5 & patient4$bmi<25] <- "Normal"
patient4$age.group = ifelse(patient4$age>=25,"Older","Younger")
patient4 %>% print
# Chunk 16
# Recode the ID
patient4$id <- dplyr::recode(patient4$id,A01 = "B01", A02 = "B02", A03 = "B03")
# Recode the age
patient4$age <- dplyr::recode(patient4$age,`26` = 27L,`20` = 21L,`24` = 25L)
patient4 %>% print
# Chunk 17
# Rename bmi.categrory as health.status
names(patient4)[names(patient4) == "bmi.category"] <- "health.status"
# Rename mass as weight
patient4 <- dplyr::rename(patient4,weight = mass)
patient4 %>% print
# Chunk 18
df <- read.csv("top100retailers2015.csv")
# Show the structure of the dataset
str(df)
# Chunk 19
summary(df)
# Chunk 20
head(df$RetailSales2014)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
View(df)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
# Chunk 2
df <- read.csv("top100retailers2015.csv")
# Chunk 3
str(df)
summary(df)
# Chunk 4
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
# Chunk 5
df <- separate(df, Headquarter, sep = ",", into =c("City", "State"))
summary(df)
# Chunk 6
summary(df)
df <- subset(df, select = -X)
# Chunk 7
df <- df %>%
arrange(desc(RetailSales2014))
head(df)
# Chunk 8
write.csv(df, file = "top100retailers_clean.csv")
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyr)
df <- read.csv("top100retailers2015.csv")
str(df)
summary(df)
for (i in 5:10) {
df[,i] <- df[,i] %>%
gsub("[[:punct:]]","",.) %>%
as.numeric(as.character())
}
head(df)
str(df)
